{"version":3,"file":"static/js/971.d29cfbbb.chunk.js","mappings":"kRAQA,EANc,SAAHA,GAAmB,IAAbC,EAAKD,EAALC,MAGf,OAAOC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SAAGH,IAASC,EAAAA,EAAAA,KAAA,OAAKG,MAFL,CAAEC,QAAS,SAAUC,SAAU,OAAQC,MAAO,OAEvBJ,SAAEH,KAC9C,E,wCC4CA,EApCsB,WACpB,IAAAQ,GAAsCC,EAAAA,EAAAA,IAAYC,EAAAA,GAA1CC,EAAOH,EAAPG,QAASC,EAASJ,EAATI,UAAWZ,EAAKQ,EAALR,MAC5Ba,GAA8CC,EAAAA,EAAAA,UAASH,GAAQI,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAxDI,EAAeF,EAAA,GAAEG,EAAkBH,EAAA,GACpCI,GAAWC,EAAAA,EAAAA,MACjBC,GAAsCC,EAAAA,EAAAA,YAAWC,EAAAA,GAAzCC,EAAWH,EAAXG,YAAaC,EAAYJ,EAAZI,aACrBC,ECnBwB,SAACF,EAAaG,GACtC,IAAMC,EAAwB,EAAdJ,EAChB,MAAO,CACLK,OAAOC,EAAAA,EAAAA,GAAIH,GAAMI,OAAO,EAAGH,GAC3BI,UAAWL,EAAKM,OAASL,EAE7B,CDa+BM,CAAWV,EAAaP,GAA7CY,EAAKH,EAALG,MAAOG,EAASN,EAATM,UACTG,GAAUC,EAAAA,EAAAA,WAEhBC,EAAAA,EAAAA,YAAU,WACRlB,GAASmB,EAAAA,EAAAA,KACX,GAAG,CAACnB,IAMJ,OACEoB,EAAAA,EAAAA,MAAArC,EAAAA,SAAA,CAAAC,SAAA,EACIS,IAAcZ,IACduC,EAAAA,EAAAA,MAAA,OAAKC,UAAWpC,EAAAA,EAAAA,YAAkBD,SAAA,EAChCoC,EAAAA,EAAAA,MAAA,OAAKC,UAAWpC,EAAAA,EAAAA,cAAoBD,SAAA,EAClCF,EAAAA,EAAAA,KAACwC,EAAAA,EAAU,CACT9B,QAASA,EACTO,mBAAoBA,KAEtBjB,EAAAA,EAAAA,KAACyC,EAAAA,EAAO,CAACf,KAAME,EAAOM,QAASA,OAEhCH,IAAa/B,EAAAA,EAAAA,KAAC0C,EAAAA,EAAM,CAACC,KAAK,YAAYC,QAfxB,WE1BD,IAAAC,EF2BpBrB,IE3BoBqB,EF4BXX,EE3BXY,YAAW,WACJD,EAAIE,SAETC,OAAOC,SAAS,CACdC,SAAU,SACVC,IAAKH,OAAOI,YAAcP,EAAIE,QAAQM,wBAAwBF,KAElE,GAAG,EFqBH,QAeInD,EAAAA,EAAAA,KAACsD,EAAK,CAACvD,MAAOA,KACdC,EAAAA,EAAAA,KAACuD,EAAAA,EAAM,CAAC5C,UAAWA,MAGzB,C","sources":["components/UI/Error/Error.js","pages/CataloguePage.jsx","utils/pagination.js","utils/scrollTo.js"],"sourcesContent":["import React from 'react';\n\nconst Error = ({ error }) => {\n  const errorStyle = { padding: '20px 0', fontSize: '20px', color: 'red' };\n\n  return <>{error && <div style={errorStyle}>{error}</div>}</>;\n};\n\nexport default Error;\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport style from './Pages.module.scss';\nimport { VanFilters } from 'components/VanFilters/VanFilters';\nimport VanList from 'components/VanList/VanList';\nimport { fetchData } from 'store/dataSlice';\nimport { getAdverts } from 'store/selectors';\nimport Error from 'components/UI/Error/Error';\nimport Loader from 'components/UI/Loader/Loader';\nimport Pagination from 'context';\nimport { pagination } from 'utils/pagination';\nimport { Button } from 'components/UI/Button/Button';\nimport { scrollTo } from 'utils/scrollTo';\n\nconst CataloguePage = () => {\n  const { adverts, isLoading, error } = useSelector(getAdverts);\n  const [filteredAdverts, setFilteredAdverts] = useState(adverts);\n  const dispatch = useDispatch();\n  const { currentPage, increasePage } = useContext(Pagination);\n  const { cards, isVisible } = pagination(currentPage, filteredAdverts);\n  const listRef = useRef();\n\n  useEffect(() => {\n    dispatch(fetchData());\n  }, [dispatch]);\n\n  const handleLoadMore = () => {\n    increasePage();\n    scrollTo(listRef);\n  };\n  return (\n    <>\n      {!isLoading && !error && (\n        <div className={style.pageWrapper}>\n          <div className={style.cataloguePage}>\n            <VanFilters\n              adverts={adverts}\n              setFilteredAdverts={setFilteredAdverts}\n            />\n            <VanList data={cards} listRef={listRef} />\n          </div>\n          {isVisible && <Button text=\"Load more\" onClick={handleLoadMore} />}\n        </div>\n      )}\n      <Error error={error} />\n      <Loader isLoading={isLoading} />\n    </>\n  );\n};\n\nexport default CataloguePage;\n","export const pagination = (currentPage, data) => {\n  const endPage = currentPage * 4;\n  return {\n    cards: [...data].splice(0, endPage),\n    isVisible: data.length > endPage,\n  };\n};\n","export const scrollTo = ref => {\n  setTimeout(() => {\n    if (!ref.current) return;\n\n    window.scrollBy({\n      behavior: 'smooth',\n      top: window.innerHeight - ref.current.getBoundingClientRect().top,\n    });\n  }, 0);\n};\n"],"names":["_ref","error","_jsx","_Fragment","children","style","padding","fontSize","color","_useSelector","useSelector","getAdverts","adverts","isLoading","_useState","useState","_useState2","_slicedToArray","filteredAdverts","setFilteredAdverts","dispatch","useDispatch","_useContext","useContext","Pagination","currentPage","increasePage","_pagination","data","endPage","cards","_toConsumableArray","splice","isVisible","length","pagination","listRef","useRef","useEffect","fetchData","_jsxs","className","VanFilters","VanList","Button","text","onClick","ref","setTimeout","current","window","scrollBy","behavior","top","innerHeight","getBoundingClientRect","Error","Loader"],"sourceRoot":""}