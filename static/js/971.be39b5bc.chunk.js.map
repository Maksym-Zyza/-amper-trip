{"version":3,"file":"static/js/971.be39b5bc.chunk.js","mappings":"wQAQA,EANc,SAAHA,GAAmB,IAAbC,EAAKD,EAALC,MAGf,OAAOC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SAAGH,IAASC,EAAAA,EAAAA,KAAA,OAAKG,MAFL,CAAEC,QAAS,SAAUC,SAAU,OAAQC,MAAO,OAEvBJ,SAAEH,KAC9C,E,wCCwCA,EAhCsB,WACpB,IAAAQ,GAAsCC,EAAAA,EAAAA,IAAYC,EAAAA,IAA1CC,EAAOH,EAAPG,QAASC,EAASJ,EAATI,UAAWZ,EAAKQ,EAALR,MACtBa,GAAWC,EAAAA,EAAAA,MACjBC,GAAsCC,EAAAA,EAAAA,YAAWC,EAAAA,GAAzCC,EAAWH,EAAXG,YAAaC,EAAYJ,EAAZI,aACrBC,EClBwB,SAACF,EAAaG,GACtC,IAAMC,EAAwB,EAAdJ,EAChB,MAAO,CACLK,OAAOC,EAAAA,EAAAA,GAAIH,GAAMI,OAAO,EAAGH,GAC3BI,UAAWL,EAAKM,OAASL,EAE7B,CDY+BM,CAAWV,EAAaP,GAA7CY,EAAKH,EAALG,MAAOG,EAASN,EAATM,UACTG,GAAUC,EAAAA,EAAAA,WAEhBC,EAAAA,EAAAA,YAAU,WACRlB,GAASmB,EAAAA,EAAAA,MACX,GAAG,CAACnB,IAMJ,OACEoB,EAAAA,EAAAA,MAAA/B,EAAAA,SAAA,CAAAC,SAAA,EACIS,IAAcZ,IACdiC,EAAAA,EAAAA,MAAA,OAAKC,UAAW9B,EAAAA,EAAAA,YAAkBD,SAAA,EAChC8B,EAAAA,EAAAA,MAAA,OAAKC,UAAW9B,EAAAA,EAAAA,cAAoBD,SAAA,EAClCF,EAAAA,EAAAA,KAACkC,EAAAA,EAAU,KACXlC,EAAAA,EAAAA,KAACmC,EAAAA,EAAO,CAACf,KAAME,EAAOM,QAASA,OAEhCH,IAAazB,EAAAA,EAAAA,KAACoC,EAAAA,EAAM,CAACC,KAAK,YAAYC,QAZxB,WEzBD,IAAAC,EF0BpBrB,IE1BoBqB,EF2BXX,EE1BXY,YAAW,WACJD,EAAIE,SAETC,OAAOC,SAAS,CACdC,SAAU,SACVC,IAAKH,OAAOI,YAAcP,EAAIE,QAAQM,wBAAwBF,KAElE,GAAG,EFoBH,QAYI7C,EAAAA,EAAAA,KAACgD,EAAK,CAACjD,MAAOA,KACdC,EAAAA,EAAAA,KAACiD,EAAAA,EAAM,CAACtC,UAAWA,MAGzB,C","sources":["components/UI/Error/Error.js","pages/CataloguePage.jsx","utils/pagination.js","utils/scrollTo.js"],"sourcesContent":["import React from 'react';\n\nconst Error = ({ error }) => {\n  const errorStyle = { padding: '20px 0', fontSize: '20px', color: 'red' };\n\n  return <>{error && <div style={errorStyle}>{error}</div>}</>;\n};\n\nexport default Error;\n","import React, { useContext, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport style from './Pages.module.scss';\nimport { VanFilters } from 'components/VanFilters/VanFilters';\nimport VanList from 'components/VanList/VanList';\nimport { fetchData } from 'store/dataSlice';\nimport { getAdverts } from 'store/selectors';\nimport Error from 'components/UI/Error/Error';\nimport Loader from 'components/UI/Loader/Loader';\nimport Pagination from 'context';\nimport { pagination } from 'utils/pagination';\nimport { Button } from 'components/UI/Button/Button';\nimport { scrollTo } from 'utils/scrollTo';\n\nconst CataloguePage = () => {\n  const { adverts, isLoading, error } = useSelector(getAdverts);\n  const dispatch = useDispatch();\n  const { currentPage, increasePage } = useContext(Pagination);\n  const { cards, isVisible } = pagination(currentPage, adverts);\n  const listRef = useRef();\n\n  useEffect(() => {\n    dispatch(fetchData());\n  }, [dispatch]);\n\n  const handleLoadMore = () => {\n    increasePage();\n    scrollTo(listRef);\n  };\n  return (\n    <>\n      {!isLoading && !error && (\n        <div className={style.pageWrapper}>\n          <div className={style.cataloguePage}>\n            <VanFilters />\n            <VanList data={cards} listRef={listRef} />\n          </div>\n          {isVisible && <Button text=\"Load more\" onClick={handleLoadMore} />}\n        </div>\n      )}\n      <Error error={error} />\n      <Loader isLoading={isLoading} />\n    </>\n  );\n};\n\nexport default CataloguePage;\n","export const pagination = (currentPage, data) => {\n  const endPage = currentPage * 4;\n  return {\n    cards: [...data].splice(0, endPage),\n    isVisible: data.length > endPage,\n  };\n};\n","export const scrollTo = ref => {\n  setTimeout(() => {\n    if (!ref.current) return;\n\n    window.scrollBy({\n      behavior: 'smooth',\n      top: window.innerHeight - ref.current.getBoundingClientRect().top,\n    });\n  }, 0);\n};\n"],"names":["_ref","error","_jsx","_Fragment","children","style","padding","fontSize","color","_useSelector","useSelector","getAdverts","adverts","isLoading","dispatch","useDispatch","_useContext","useContext","Pagination","currentPage","increasePage","_pagination","data","endPage","cards","_toConsumableArray","splice","isVisible","length","pagination","listRef","useRef","useEffect","fetchData","_jsxs","className","VanFilters","VanList","Button","text","onClick","ref","setTimeout","current","window","scrollBy","behavior","top","innerHeight","getBoundingClientRect","Error","Loader"],"sourceRoot":""}